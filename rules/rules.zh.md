# 📜 小丑 AI 智能体t 规则与治理说明

<table width="100%"><tr><td align="left">
🌐 语言：<a href="./README.md">English（EN）</a> |  中文（ZH）</a>
</td></tr><tr><td align="right">  &nbsp; • &nbsp;
<a href="./rules/README_zh.md">📘 规则说明（中文）</a> &nbsp; • &nbsp;
<a href="./rules/CURRENT_RULES.zh.md">✅ 当前规则（中文）</a>
</td></tr></table>

---

**🕒 最后更新：** 2026-01-12T00:00:00Z

本文档是 Jester AI Agent 治理机制的权威、可读说明文件，详细描述了规则提案的收集方式、投票流程、最终决策的记录方式，以及规则变更的完整历史记录。

> 实时投票状态存储于 `data/poll.json`  
> 当前规则状态存储于 `data/rules.json`  
> 本文档用于补充上述数据文件，提供人类可读的治理逻辑说明与审计记录。

---

## 📚 目录导航

- [📋 当前生效规则](/rules/CURRENT_RULES.md)  
- [🏛 治理概览](#-治理概览)  
- [🗳 双阶段周度投票流程](#-双阶段周度投票流程)  
- [📝 变更日志](#-变更日志)  
- [💡 如何提交规则提案](#-如何提交规则提案)  
- [🔢 投票统计规则](#-投票统计规则)  
- [📌 置顶与可见性](#-置顶与可见性)  
- [🧪 测试与调试说明](#-测试与调试说明)  

---

## 🏛 治理概览

Jester 的行为完全由公开的社区规则驱动。

### 核心治理特性

- **每周一次双阶段投票**
- 规则由社区提出并决定
- 投票与执行过程可复现、可审计
- 不存在人工裁量或隐藏干预

### 治理目标

- **透明性**：所有变更均可追溯  
- **可预测性**：行为严格遵循规则  
- **最小信任假设**：不依赖个人判断  

---

## 🗳 双阶段周度投票流程

治理以固定的双阶段周期运行。

### 阶段一 — 公告与提案收集（24 小时） 📣

- Jester 发布并置顶当周治理公告  
- 社区成员通过回复提交规则建议  

#### 提案筛选逻辑

- 按点赞数排序  
- 按作者去重（每人最多保留一条）  
- 取前 **N** 条（默认 5 条）进入下一阶段  
- 若无有效提案，则本轮治理直接结束并记录  

---

### 阶段二 — 最终投票（24 小时） 🗳️

- Jester 发布最终投票帖（选项编号 `1..N`）并置顶  
- 社区通过回复数字进行投票  

#### 投票约束

- 每位用户仅第一条有效数字回复计入  
- 超出时间窗口的投票将被忽略  

#### 胜出规则

- 票数最高者获胜  
- 平票情况下，编号较小者胜出  

---

### 最终结果公布 🏁

- 投票结果写入 `data/poll.json`  
- 若涉及规则变更，将同步更新规则状态  
- 同时在本文档中追加一条变更日志  

---

## 📝 变更日志

每一个完整的治理周期都会生成一条变更记录。

### 每条日志包含

- 最终确认时间  
- 获胜选项  
- 实际执行的动作（如有）  
- 对应投票数据引用  

### 变更日志的目的

- 保留完整历史上下文  
- 支持行为回溯与分析  
- 便于第三方审计与验证  

---

## 💡 如何提交规则提案

规则提案仅在 **阶段一** 提交。

### 提交方式

- 直接回复阶段一公告帖  

### 建议原则

- 表达清晰、避免歧义  
- 避免主观或无法验证的描述  
- 尽量使用可机器执行的指令  
- 清楚说明修改行为的意图  

---

## 🔢 投票统计规则

投票统计是严格且确定性的。

### 统计逻辑

- 仅接受与选项编号匹配的数字回复  
- 每位用户仅第一条有效回复计入  
- 超出投票时间的回复将被忽略  
- 所有结果均可由原始数据复现  

### 解释原则

- 不进行人工解释  
- 不允许自由裁量或调整  

---

## 📌 置顶与可见性

### 置顶规则

- 阶段一与阶段二帖子在条件允许时置顶  
- 置顶仅用于提升可见度  

### 重要说明

- 是否置顶不影响投票有效性  
- 置顶失败不构成治理失效  
- 治理正确性不依赖界面状态  

---

## 🧪 测试与调试说明

用于本地测试与验证的建议流程。

### 推荐检查项

- 执行后检查 `data/poll.json`  
- 对比 `data/rules.json` 的变更差异  
- 在可用情况下使用 dry-run 模式  

⚠️ **请勿手动修改自动生成的文件**  
所有手动更改都会被自动化流程覆盖。

---
